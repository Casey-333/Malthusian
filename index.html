<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Malthusian Simulation</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    $(document).ready(function(){
        $("#setPopulation").click(function(){
            $("#population_slider").css("opacity","0");
            $("#setPopulation").hide();
            $("#hint").hide();
            setPopulation(slider);
        })
    })
    </script>
</head>
<body onload="canvasSetup()">
    <h1></h1>
    <h1 class="center"> Malthusian Simulation </h1>
    <p id="hint" style="margin-top: 10px; margin-left: 240px; color:darkgray"> 1. Use the slider below to adjust initial population, then press Set to start the simulation. </p>

    <!--legend-->
    <div id="legend">
        <h4>Legend</h4>
            <ul>
            <li style="font-size: 0.9em">The yellow rectangle: land.</li>
            <li style="font-size: 0.9em">Each dot: 10 people.</li>
            <li style="font-size: 0.9em">Size of dot: reflects income per person.</li>
            </ul>
            <br>
        <div id="notes">
            <h4>Notes</h4>
            <ul>
            <li style="font-size: 0.9em">The average product of labour is assumed to diminish as population increases.</li>
            <li style="font-size: 0.9em">Birthrate is determined by the income per person in the previous year.</li>
            <li style="font-size: 0.9em">The tech multiplier is multiplied to the total income of each year.</li>
            </ul>
        </div>
        <div id="citationDiv">
            <h4>Reference:</h4>
            <p style="font-size: 0.9em">Core Economics Education. (2017). The Economy: Economics for a Changing World (1st ed.) [E-book]. Oxford University Press.</p>
        </div>
    </div>

    <!--Observations-->
    <div id="observations">
        <h4>Observations</h4>
        <ul style="font-size: 0.9em">
        <li>No matter what the size of the starting population is, the population always tends towards the same equilibrium ≈ 3000 (given no tech development).</li>
        <li>Tech developments only raise per person income temporarily before it falls again, yet they bring the population to higher equilibriums.</li>
        <li>Diseases / massive drops in population increase per person income in the short run, but has little effect in the long run.</li>
        <li>The per person income has always been around the same. It always returns to the equilibrium ≈ 15.</li>
        </ul>
        <div id="creditDiv">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <p>Made by Casey Su</p><p id="chineseName">苏子涵</p>
        </div>
    </div>

    <!-- simulation box-->
    <div id="simulation">
        <!-- population setter and year button -->
    <div id="popu_year" class="flex-container">
    <div id="population_setter">
        <div id="population_slider" class="flex-container"> 
            <p>0</p>
            <input type="range" list="tickmarks" id="setPopu" name="setPopu" min="0" max="10000" value="0" step="500" onchange="updateSlider(this.value)">
            <p>10000</p>
        </div>
        <div id="population_caption" class="flex-container">
            <div>Starting Population: </div>
            <div id="popuNumber">0</div>
            <div><button id="setPopulation" style="margin-left:5px"> set</button></div>
        </div>
    </div>
    <div id="yearButtons">
        <!-- <div id="lastYearButton">
            <button id="lastYear" onclick="lastYear()">Last Year</button>
        </div> -->
        <div id="nextYearButton" style="margin-left: 44px; margin-top: 50px">
            <button id="nextYear" onclick="nextYear()">Next Year</button>
            <label for="nextYear" style="color:darkgray"> 2.Click Next Year repeatedly to see how variables change.</label>
        </div>
    </div>
    </div>

        <!-- canvas and stats -->
    <div id="canvas and stats" class="flex-container center" style="width:800px">
    <div id="stats" style="height:200px">
        <div class="flex-container">
            <p>Year:  </p><p id="Year_"></p>
        </div><div class="flex-container">
            <p>Population: </p><p id="Popu_"></p>
        </div><div id="tech" class="flex-container">
            <p>Tech multiplier: </p><p id="Tech_"></p>
        </div><div class="flex-container">
            <p>Total income: </p><p id="tIncome_"></p>
        </div><div class="flex-container">
            <p>Per person income: </p><p id="ppIncome_"></p>
        </div><div class="flex-container">
            <p>Birth rate: </p><p id="Birth_"></p>
        </div>
    </div>
    <div id="canvasDiv" class="flex-container-ver">
        <canvas id="canvas" class="center" width="500" height="200"></canvas>
    </div>
    </div>

        <!-- disruption buttons and chart-->
    <div id="disruption_chart" class="flex-container">
        <div id="disruptionButtons" class="flex-container-ver center">
            <div id="technologyButton">
                <button id="technology" onclick="techImprovement()">Tech multiplier + 0.1</button>
            </div>
            <br>
            <div id="diseaseButton" onclick="disease()">
                <button id="disease">Disease: population &times 70%</button>
                <P style="color:darkgray"> 3. Try improving the tech multiplier or introducing a disease to see what happens</p>
            </div>
        </div>
        <div>
            <canvas id="myChart" style="width:500px;height:200px;"></canvas>
        </div>
    </div>
    <button class="center" onclick="window.location.reload()">Reset Simulation</button>
    <br>
    </div>
    <!-- credit -->
    
    <script src="script.js" type="text/javascript"></script>
</body>
</html>